<!DOCTYPE HTML>
<html lang="[object]" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>CLI guideline</title>
        

        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="../custom.css">
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../quick-start.html"><strong aria-hidden="true">2.</strong> Quick Start</a></li><li class="chapter-item expanded "><a href="../installation/installation.html"><strong aria-hidden="true">3.</strong> Installation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../installation/supported-platforms.html"><strong aria-hidden="true">3.1.</strong> Supported Platforms</a></li><li class="chapter-item expanded "><a href="../installation/installing-binary.html"><strong aria-hidden="true">3.2.</strong> Installing a Binary Distribution</a></li><li class="chapter-item expanded "><a href="../installation/installing-source.html"><strong aria-hidden="true">3.3.</strong> Installing Nix from Source</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../installation/prerequisites-source.html"><strong aria-hidden="true">3.3.1.</strong> Prerequisites</a></li><li class="chapter-item expanded "><a href="../installation/obtaining-source.html"><strong aria-hidden="true">3.3.2.</strong> Obtaining a Source Distribution</a></li><li class="chapter-item expanded "><a href="../installation/building-source.html"><strong aria-hidden="true">3.3.3.</strong> Building Nix from Source</a></li></ol></li><li class="chapter-item expanded "><a href="../installation/installing-docker.html"><strong aria-hidden="true">3.4.</strong> Using Nix within Docker</a></li><li class="chapter-item expanded "><a href="../installation/nix-security.html"><strong aria-hidden="true">3.5.</strong> Security</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../installation/single-user.html"><strong aria-hidden="true">3.5.1.</strong> Single-User Mode</a></li><li class="chapter-item expanded "><a href="../installation/multi-user.html"><strong aria-hidden="true">3.5.2.</strong> Multi-User Mode</a></li></ol></li><li class="chapter-item expanded "><a href="../installation/env-variables.html"><strong aria-hidden="true">3.6.</strong> Environment Variables</a></li><li class="chapter-item expanded "><a href="../installation/upgrading.html"><strong aria-hidden="true">3.7.</strong> Upgrading Nix</a></li></ol></li><li class="chapter-item expanded "><a href="../package-management/package-management.html"><strong aria-hidden="true">4.</strong> Package Management</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../package-management/basic-package-mgmt.html"><strong aria-hidden="true">4.1.</strong> Basic Package Management</a></li><li class="chapter-item expanded "><a href="../package-management/profiles.html"><strong aria-hidden="true">4.2.</strong> Profiles</a></li><li class="chapter-item expanded "><a href="../package-management/garbage-collection.html"><strong aria-hidden="true">4.3.</strong> Garbage Collection</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../package-management/garbage-collector-roots.html"><strong aria-hidden="true">4.3.1.</strong> Garbage Collector Roots</a></li></ol></li><li class="chapter-item expanded "><a href="../package-management/channels.html"><strong aria-hidden="true">4.4.</strong> Channels</a></li><li class="chapter-item expanded "><a href="../package-management/sharing-packages.html"><strong aria-hidden="true">4.5.</strong> Sharing Packages Between Machines</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../package-management/binary-cache-substituter.html"><strong aria-hidden="true">4.5.1.</strong> Serving a Nix store via HTTP</a></li><li class="chapter-item expanded "><a href="../package-management/copy-closure.html"><strong aria-hidden="true">4.5.2.</strong> Copying Closures via SSH</a></li><li class="chapter-item expanded "><a href="../package-management/ssh-substituter.html"><strong aria-hidden="true">4.5.3.</strong> Serving a Nix store via SSH</a></li><li class="chapter-item expanded "><a href="../package-management/s3-substituter.html"><strong aria-hidden="true">4.5.4.</strong> Serving a Nix store via S3</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../language/index.html"><strong aria-hidden="true">5.</strong> Nix Language</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../language/values.html"><strong aria-hidden="true">5.1.</strong> Data Types</a></li><li class="chapter-item expanded "><a href="../language/constructs.html"><strong aria-hidden="true">5.2.</strong> Language Constructs</a></li><li class="chapter-item expanded "><a href="../language/operators.html"><strong aria-hidden="true">5.3.</strong> Operators</a></li><li class="chapter-item expanded "><a href="../language/derivations.html"><strong aria-hidden="true">5.4.</strong> Derivations</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../language/advanced-attributes.html"><strong aria-hidden="true">5.4.1.</strong> Advanced Attributes</a></li></ol></li><li class="chapter-item expanded "><a href="../language/builtin-constants.html"><strong aria-hidden="true">5.5.</strong> Built-in Constants</a></li><li class="chapter-item expanded "><a href="../language/builtins.html"><strong aria-hidden="true">5.6.</strong> Built-in Functions</a></li></ol></li><li class="chapter-item expanded "><a href="../advanced-topics/advanced-topics.html"><strong aria-hidden="true">6.</strong> Advanced Topics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../advanced-topics/distributed-builds.html"><strong aria-hidden="true">6.1.</strong> Remote Builds</a></li><li class="chapter-item expanded "><a href="../advanced-topics/cores-vs-jobs.html"><strong aria-hidden="true">6.2.</strong> Tuning Cores and Jobs</a></li><li class="chapter-item expanded "><a href="../advanced-topics/diff-hook.html"><strong aria-hidden="true">6.3.</strong> Verifying Build Reproducibility</a></li><li class="chapter-item expanded "><a href="../advanced-topics/post-build-hook.html"><strong aria-hidden="true">6.4.</strong> Using the post-build-hook</a></li></ol></li><li class="chapter-item expanded "><a href="../command-ref/command-ref.html"><strong aria-hidden="true">7.</strong> Command Reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../command-ref/opt-common.html"><strong aria-hidden="true">7.1.</strong> Common Options</a></li><li class="chapter-item expanded "><a href="../command-ref/env-common.html"><strong aria-hidden="true">7.2.</strong> Common Environment Variables</a></li><li class="chapter-item expanded "><a href="../command-ref/main-commands.html"><strong aria-hidden="true">7.3.</strong> Main Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../command-ref/nix-env.html"><strong aria-hidden="true">7.3.1.</strong> nix-env</a></li><li class="chapter-item expanded "><a href="../command-ref/nix-build.html"><strong aria-hidden="true">7.3.2.</strong> nix-build</a></li><li class="chapter-item expanded "><a href="../command-ref/nix-shell.html"><strong aria-hidden="true">7.3.3.</strong> nix-shell</a></li><li class="chapter-item expanded "><a href="../command-ref/nix-store.html"><strong aria-hidden="true">7.3.4.</strong> nix-store</a></li></ol></li><li class="chapter-item expanded "><a href="../command-ref/utilities.html"><strong aria-hidden="true">7.4.</strong> Utilities</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../command-ref/nix-channel.html"><strong aria-hidden="true">7.4.1.</strong> nix-channel</a></li><li class="chapter-item expanded "><a href="../command-ref/nix-collect-garbage.html"><strong aria-hidden="true">7.4.2.</strong> nix-collect-garbage</a></li><li class="chapter-item expanded "><a href="../command-ref/nix-copy-closure.html"><strong aria-hidden="true">7.4.3.</strong> nix-copy-closure</a></li><li class="chapter-item expanded "><a href="../command-ref/nix-daemon.html"><strong aria-hidden="true">7.4.4.</strong> nix-daemon</a></li><li class="chapter-item expanded "><a href="../command-ref/nix-hash.html"><strong aria-hidden="true">7.4.5.</strong> nix-hash</a></li><li class="chapter-item expanded "><a href="../command-ref/nix-instantiate.html"><strong aria-hidden="true">7.4.6.</strong> nix-instantiate</a></li><li class="chapter-item expanded "><a href="../command-ref/nix-prefetch-url.html"><strong aria-hidden="true">7.4.7.</strong> nix-prefetch-url</a></li></ol></li><li class="chapter-item expanded "><a href="../command-ref/experimental-commands.html"><strong aria-hidden="true">7.5.</strong> Experimental Commands</a></li></ol></li><li class="chapter-item expanded "><a href="../command-ref/files.html"><strong aria-hidden="true">8.</strong> Files</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../command-ref/conf-file.html"><strong aria-hidden="true">8.1.</strong> nix.conf</a></li></ol></li><li class="chapter-item expanded "><a href="../glossary.html"><strong aria-hidden="true">9.</strong> Glossary</a></li><li class="chapter-item expanded "><a href="../contributing/contributing.html"><strong aria-hidden="true">10.</strong> Contributing</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../contributing/hacking.html"><strong aria-hidden="true">10.1.</strong> Hacking</a></li><li class="chapter-item expanded "><a href="../contributing/cli-guideline.html" class="active"><strong aria-hidden="true">10.2.</strong> CLI guideline</a></li></ol></li><li class="chapter-item expanded "><a href="../release-notes/release-notes.html"><strong aria-hidden="true">11.</strong> Release Notes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../release-notes/rl-next.html"><strong aria-hidden="true">11.1.</strong> Release X.Y (202?-??-??)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-2.10.html"><strong aria-hidden="true">11.2.</strong> Release 2.10 (2022-07-11)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-2.9.html"><strong aria-hidden="true">11.3.</strong> Release 2.9 (2022-05-30)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-2.8.html"><strong aria-hidden="true">11.4.</strong> Release 2.8 (2022-04-19)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-2.7.html"><strong aria-hidden="true">11.5.</strong> Release 2.7 (2022-03-07)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-2.6.html"><strong aria-hidden="true">11.6.</strong> Release 2.6 (2022-01-24)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-2.5.html"><strong aria-hidden="true">11.7.</strong> Release 2.5 (2021-12-13)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-2.4.html"><strong aria-hidden="true">11.8.</strong> Release 2.4 (2021-11-01)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-2.3.html"><strong aria-hidden="true">11.9.</strong> Release 2.3 (2019-09-04)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-2.2.html"><strong aria-hidden="true">11.10.</strong> Release 2.2 (2019-01-11)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-2.1.html"><strong aria-hidden="true">11.11.</strong> Release 2.1 (2018-09-02)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-2.0.html"><strong aria-hidden="true">11.12.</strong> Release 2.0 (2018-02-22)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-1.11.10.html"><strong aria-hidden="true">11.13.</strong> Release 1.11.10 (2017-06-12)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-1.11.html"><strong aria-hidden="true">11.14.</strong> Release 1.11 (2016-01-19)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-1.10.html"><strong aria-hidden="true">11.15.</strong> Release 1.10 (2015-09-03)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-1.9.html"><strong aria-hidden="true">11.16.</strong> Release 1.9 (2015-06-12)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-1.8.html"><strong aria-hidden="true">11.17.</strong> Release 1.8 (2014-12-14)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-1.7.html"><strong aria-hidden="true">11.18.</strong> Release 1.7 (2014-04-11)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-1.6.1.html"><strong aria-hidden="true">11.19.</strong> Release 1.6.1 (2013-10-28)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-1.6.html"><strong aria-hidden="true">11.20.</strong> Release 1.6 (2013-09-10)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-1.5.2.html"><strong aria-hidden="true">11.21.</strong> Release 1.5.2 (2013-05-13)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-1.5.html"><strong aria-hidden="true">11.22.</strong> Release 1.5 (2013-02-27)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-1.4.html"><strong aria-hidden="true">11.23.</strong> Release 1.4 (2013-02-26)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-1.3.html"><strong aria-hidden="true">11.24.</strong> Release 1.3 (2013-01-04)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-1.2.html"><strong aria-hidden="true">11.25.</strong> Release 1.2 (2012-12-06)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-1.1.html"><strong aria-hidden="true">11.26.</strong> Release 1.1 (2012-07-18)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-1.0.html"><strong aria-hidden="true">11.27.</strong> Release 1.0 (2012-05-11)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.16.html"><strong aria-hidden="true">11.28.</strong> Release 0.16 (2010-08-17)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.15.html"><strong aria-hidden="true">11.29.</strong> Release 0.15 (2010-03-17)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.14.html"><strong aria-hidden="true">11.30.</strong> Release 0.14 (2010-02-04)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.13.html"><strong aria-hidden="true">11.31.</strong> Release 0.13 (2009-11-05)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.12.html"><strong aria-hidden="true">11.32.</strong> Release 0.12 (2008-11-20)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.11.html"><strong aria-hidden="true">11.33.</strong> Release 0.11 (2007-12-31)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.10.1.html"><strong aria-hidden="true">11.34.</strong> Release 0.10.1 (2006-10-11)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.10.html"><strong aria-hidden="true">11.35.</strong> Release 0.10 (2006-10-06)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.9.2.html"><strong aria-hidden="true">11.36.</strong> Release 0.9.2 (2005-09-21)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.9.1.html"><strong aria-hidden="true">11.37.</strong> Release 0.9.1 (2005-09-20)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.9.html"><strong aria-hidden="true">11.38.</strong> Release 0.9 (2005-09-16)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.8.1.html"><strong aria-hidden="true">11.39.</strong> Release 0.8.1 (2005-04-13)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.8.html"><strong aria-hidden="true">11.40.</strong> Release 0.8 (2005-04-11)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.7.html"><strong aria-hidden="true">11.41.</strong> Release 0.7 (2005-01-12)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.6.html"><strong aria-hidden="true">11.42.</strong> Release 0.6 (2004-11-14)</a></li><li class="chapter-item expanded "><a href="../release-notes/rl-0.5.html"><strong aria-hidden="true">11.43.</strong> Release 0.5 and earlier</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Handle use selecting locale option -->
                <script type="text/javascript">
                    document.querySelector('#locale-list').addEventListener('change', function () {
                        window.location = this.value;
                    })
                </script>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#cli-guideline" id="cli-guideline">CLI guideline</a></h1>
<h2><a class="header" href="#goals" id="goals">Goals</a></h2>
<p>Purpose of this document is to provide a clear direction to <strong>help design
delightful command line</strong> experience. This document contains guidelines to
follow to ensure a consistent and approachable user experience.</p>
<h2><a class="header" href="#overview" id="overview">Overview</a></h2>
<p><code>nix</code> command provides a single entry to a number of sub-commands that help
<strong>developers and system administrators</strong> in the life-cycle of a software
project. We particularly need to pay special attention to help and assist new
users of Nix.</p>
<h1><a class="header" href="#naming-the-commands" id="naming-the-commands">Naming the <code>COMMANDS</code></a></h1>
<p>Words matter. Naming is an important part of the usability. Users will be
interacting with Nix on a regular basis so we should <strong>name things for ease of
understanding</strong>.</p>
<p>We recommend following the <a href="https://en.wikipedia.org/wiki/Principle_of_least_astonishment">Principle of Least
Astonishment</a>.
This means that you should <strong>never use acronyms or abbreviations</strong> unless they
are commonly used in other tools (e.g. <code>nix init</code>). And if the command name is
too long (&gt; 10-12 characters) then shortening it makes sense (e.g.
“prioritization” → “priority”).</p>
<p>Commands should <strong>follow a noun-verb dialogue</strong>. Although noun-verb formatting
seems backwards from a speaking perspective (i.e. <code>nix store copy</code> vs. <code>nix copy store</code>) it allows us to organize commands the same way users think about
completing an action (the group first, then the command).</p>
<h2><a class="header" href="#naming-rules" id="naming-rules">Naming rules</a></h2>
<p>Rules are there to guide you by limiting your options. But not everything can
fit the rules all the time. In those cases document the exceptions in <a href="#appendix-1-commands-naming-exceptions">Appendix
1: Commands naming exceptions</a> and
provide reason. The rules want to force a Nix developer to look, not just at
the command at hand, but also the command in a full context alongside other
<code>nix</code> commands.</p>
<pre><code class="language-shell">$ nix [&lt;GROUP&gt;] &lt;COMMAND&gt; [&lt;ARGUMENTS&gt;] [&lt;OPTIONS&gt;]
</code></pre>
<ul>
<li><code>GROUP</code>, <code>COMMAND</code>, <code>ARGUMENTS</code> and <code>OPTIONS</code> should be lowercase and in a
singular form.</li>
<li><code>GROUP</code> should be a  <strong>NOUN</strong>.</li>
<li><code>COMMAND</code> should be a <strong>VERB</strong>.</li>
<li><code>ARGUMENTS</code> and <code>OPTIONS</code> are discussed in <a href="#input"><em>Input</em> section</a>.</li>
</ul>
<h2><a class="header" href="#classification" id="classification">Classification</a></h2>
<p>Some commands are more important, some less. While we want all of our commands
to be perfect we can only spend limited amount of time testing and improving
them.</p>
<p>This classification tries to separate commands in 3 categories in terms of
their importance in regards to the new users. Users who are likely to be
impacted the most by bad user experience.</p>
<ul>
<li>
<p><strong>Main commands</strong></p>
<p>Commands used for our main use cases and most likely used by new users. We
expect attention to details, such as:</p>
<ul>
<li>Proper use of <a href="#colors">colors</a>, <a href="#special-unicode-characters">emojis</a>
and <a href="#text-alignment">aligning of text</a>.</li>
<li><a href="#shell-completion">Autocomplete</a> of options.</li>
<li>Show <a href="#next-steps">next possible steps</a>.</li>
<li>Showing some <a href="#educate-the-user">“tips”</a> when running logs running tasks
(eg. building / downloading) in order to teach users interesting bits of
Nix ecosystem.</li>
<li><a href="#help-is-essential">Help pages</a> to be as good as we can write them
pointing to external documentation and tutorials for more.</li>
</ul>
<p>Examples of such commands: <code>nix init</code>, <code>nix develop</code>, <code>nix build</code>, <code>nix run</code>,
...</p>
</li>
<li>
<p><strong>Infrequently used commands</strong></p>
<p>From infrequently used commands we expect less attention to details, but
still some:</p>
<ul>
<li>Proper use of <a href="#colors">colors</a>, <a href="#special-unicode-characters">emojis</a>
and <a href="#text-alignment">aligning of text</a>.</li>
<li><a href="#shell-completion">Autocomplete</a> of options.</li>
</ul>
<p>Examples of such commands: <code>nix doctor</code>, <code>nix edit</code>, <code>nix eval</code>, ...</p>
</li>
<li>
<p><strong>Utility and scripting commands</strong></p>
<p>Commands that expose certain internal functionality of <code>nix</code>, mostly used by
other scripts.</p>
<ul>
<li><a href="#shell-completion">Autocomplete</a> of options.</li>
</ul>
<p>Examples of such commands: <code>nix store copy</code>, <code>nix hash base16</code>, <code>nix store ping</code>, ...</p>
</li>
</ul>
<h1><a class="header" href="#help-is-essential" id="help-is-essential">Help is essential</a></h1>
<p>Help should be built into your command line so that new users can gradually
discover new features when they need them.</p>
<h2><a class="header" href="#looking-for-help" id="looking-for-help">Looking for help</a></h2>
<p>Since there is no standard way how user will look for help we rely on ways help
is provided by commonly used tools. As a guide for this we took <code>git</code> and
whenever in doubt look at it as a preferred direction.</p>
<p>The rules are:</p>
<ul>
<li>Help is shown by using <code>--help</code> or <code>help</code> command (eg <code>nix</code> <code>--``help</code> or
<code>nix help</code>).</li>
<li>For non-COMMANDs (eg. <code>nix</code> <code>--``help</code> and <code>nix store</code> <code>--``help</code>) we <strong>show
a summary</strong> of most common use cases. Summary is presented on the STDOUT
without any use of PAGER.</li>
<li>For COMMANDs (eg. <code>nix init</code> <code>--``help</code> or <code>nix help init</code>) we display the
man page of that command. By default the PAGER is used (as in <code>git</code>).</li>
<li>At the end of either summary or man page there should be an URL pointing to
an online version of more detailed documentation.</li>
<li>The structure of summaries and man pages should be the same as in <code>git</code>.</li>
</ul>
<h2><a class="header" href="#anticipate-where-help-is-needed" id="anticipate-where-help-is-needed">Anticipate where help is needed</a></h2>
<p>Even better then requiring the user to search for help is to anticipate and
predict when user might need it. Either because the lack of discoverability,
typo in the input or simply taking the opportunity to teach the user of
interesting - but less visible - details.</p>
<h3><a class="header" href="#shell-completion" id="shell-completion">Shell completion</a></h3>
<p>This type of help is most common and almost expected by users. We need to
<strong>provide the best shell completion</strong> for <code>bash</code>, <code>zsh</code> and <code>fish</code>.</p>
<p>Completion needs to be <strong>context aware</strong>, this mean when a user types:</p>
<pre><code class="language-shell">$ nix build n&lt;TAB&gt;
</code></pre>
<p>we need to display a list of flakes starting with <code>n</code>.</p>
<h3><a class="header" href="#wrong-input" id="wrong-input">Wrong input</a></h3>
<p>As we all know we humans make mistakes, all the time. When a typo - intentional
or unintentional - is made, we should prompt for closest possible options or
point to the documentation which would educate user to not make the same
errors. Here are few examples:</p>
<p>In first example we prompt the user for typing wrong command name:</p>
<pre><code class="language-shell">$ nix int
------------------------------------------------------------------------
  Error! Command `int` not found.
------------------------------------------------------------------------
  Did you mean:
    |&gt; nix init
    |&gt; nix input
</code></pre>
<p>Sometimes users will make mistake either because of a typo or simply because of
lack of discoverability. Our handling of this cases needs to be context
sensitive.</p>
<pre><code class="language-shell">$ nix init --template=template#pyton
------------------------------------------------------------------------
  Error! Template `template#pyton` not found.
------------------------------------------------------------------------
Initializing Nix project at `/path/to/here`.
      Select a template for you new project:
          |&gt; template#python
             template#python-pip
             template#python-poetry
</code></pre>
<h3><a class="header" href="#next-steps" id="next-steps">Next steps</a></h3>
<p>It can be invaluable to newcomers to show what a possible next steps and what
is the usual development workflow with Nix. For example:</p>
<pre><code class="language-shell">$ nix init --template=template#python
Initializing project `template#python`
          in `/home/USER/dev/new-project`

  Next steps
    |&gt; nix develop   -- to enter development environment
    |&gt; nix build     -- to build your project
</code></pre>
<h3><a class="header" href="#educate-the-user" id="educate-the-user">Educate the user</a></h3>
<p>We should take any opportunity to <strong>educate users</strong>, but at the same time we
must <strong>be very very careful to not annoy users</strong>. There is a thin line between
being helpful and being annoying.</p>
<p>An example of educating users might be to provide <em>Tips</em> in places where they
are waiting.</p>
<pre><code class="language-shell">$ nix build
    Started building my-project 1.2.3
 Downloaded python3.8-poetry 1.2.3 in 5.3 seconds
 Downloaded python3.8-requests 1.2.3 in 5.3 seconds
------------------------------------------------------------------------
      Press `v` to increase logs verbosity
         |&gt; `?` to see other options
------------------------------------------------------------------------
      Learn something new with every build...
         |&gt; See last logs of a build with `nix log --last` command.
------------------------------------------------------------------------
  Evaluated my-project 1.2.3 in 14.43 seconds
Downloading [12 / 200]
         |&gt; firefox 1.2.3 [#########&gt;       ] 10Mb/s | 2min left
   Building [2 / 20]
         |&gt; glibc 1.2.3 -&gt; buildPhase: &lt;last log line&gt;
------------------------------------------------------------------------
</code></pre>
<p>Now <strong>Learn</strong> part of the output is where you educate users. You should only
show it when you know that a build will take some time and not annoy users of
the builds that take only few seconds.</p>
<p>Every feature like this should go through an intensive review and testing to
collect as much feedback as possible and to fine tune every little detail. If
done right this can be an awesome features beginners and advance users will
love, but if not done perfectly it will annoy users and leave bad impression.</p>
<h1><a class="header" href="#input" id="input">Input</a></h1>
<p>Input to a command is provided via <code>ARGUMENTS</code> and <code>OPTIONS</code>.</p>
<p><code>ARGUMENTS</code> represent a required input for a function. When choosing to use
<code>ARGUMENTS</code> over <code>OPTIONS</code> please be aware of the downsides that come with it:</p>
<ul>
<li>User will need to remember the order of <code>ARGUMENTS</code>. This is not a problem if
there is only one <code>ARGUMENT</code>.</li>
<li>With <code>OPTIONS</code> it is possible to provide much better auto completion.</li>
<li>With <code>OPTIONS</code> it is possible to provide much better error message.</li>
<li>Using <code>OPTIONS</code> it will mean there is a little bit more typing.</li>
</ul>
<p>We don’t discourage the use of <code>ARGUMENTS</code>, but simply want to make every
developer consider the downsides and choose wisely.</p>
<h2><a class="header" href="#naming-the-options" id="naming-the-options">Naming the <code>OPTIONS</code></a></h2>
<p>The only naming convention - apart from the ones mentioned in Naming the
<code>COMMANDS</code> section is how flags are named.</p>
<p>Flags are a type of <code>OPTION</code> that represent an option that can be turned ON of
OFF. We can say <strong>flags are boolean type of</strong> <code>**OPTION**</code>.</p>
<p>Here are few examples of flag <code>OPTIONS</code>:</p>
<ul>
<li><code>--colors</code> vs. <code>--no-colors</code> (showing colors in the output)</li>
<li><code>--emojis</code> vs. <code>--no-emojis</code> (showing emojis in the output)</li>
</ul>
<h2><a class="header" href="#prompt-when-input-not-provided" id="prompt-when-input-not-provided">Prompt when input not provided</a></h2>
<p>For <em>main commands</em> (as <a href="#classification">per classification</a>) we want command
to improve the discoverability of possible input. A new user will most likely
not know which <code>ARGUMENTS</code> and <code>OPTIONS</code> are required or which values are
possible for those options.</p>
<p>In case the user does not provide the input or they provide wrong input,
rather than show the error, prompt a user with an option to find and select
correct input (see examples).</p>
<p>Prompting is of course not required when TTY is not attached to STDIN. This
would mean that scripts won't need to handle prompt, but rather handle errors.</p>
<p>A place to use prompt and provide user with interactive select</p>
<pre><code class="language-shell">$ nix init
Initializing Nix project at `/path/to/here`.
      Select a template for you new project:
          |&gt; py
             template#python-pip
             template#python-poetry
             [ Showing 2 templates from 1345 templates ]
</code></pre>
<p>Another great place to add prompts are <strong>confirmation dialogues for dangerous
actions</strong>. For example when adding new substitutor via <code>OPTIONS</code> or via
<code>flake.nix</code> we should prompt - for the first time - and let user review what is
going to happen.</p>
<pre><code class="language-shell">$ nix build --option substitutors https://cache.example.org
------------------------------------------------------------------------
  Warning! A security related question needs to be answered.
------------------------------------------------------------------------
  The following substitutors will be used to in `my-project`:
    - https://cache.example.org

  Do you allow `my-project` to use above mentioned substitutors?
    [y/N] |&gt; y
</code></pre>
<h1><a class="header" href="#output" id="output">Output</a></h1>
<p>Terminal output can be quite limiting in many ways. Which should force us to
think about the experience even more. As with every design the output is a
compromise between being terse and being verbose, between showing help to
beginners and annoying advance users. For this it is important that we know
what are the priorities.</p>
<p>Nix command line should be first and foremost written with beginners in mind.
But users won't stay beginners for long and what was once useful might quickly
become annoying. There is no golden rule that we can give in this guideline
that would make it easier how to draw a line and find best compromise.</p>
<p>What we would encourage is to <strong>build prototypes</strong>, do some <strong>user testing</strong>
and collect <strong>feedback</strong>. Then repeat the cycle few times.</p>
<p>First design the <em>happy path</em> and only after your iron it out, continue to work
on <strong>edge cases</strong> (handling and displaying errors, changes of the output by
certain <code>OPTIONS</code>, etc…)</p>
<h2><a class="header" href="#follow-best-practices" id="follow-best-practices">Follow best practices</a></h2>
<p>Needless to say we Nix must be a good citizen and follow best practices in
command line.</p>
<p>In short: <strong>STDOUT is for output, STDERR is for (human) messaging.</strong></p>
<p>STDOUT and STDERR provide a way for you to output messages to the user while
also allowing them to redirect content to a file. For example:</p>
<pre><code class="language-shell">$ nix build &gt; build.txt
------------------------------------------------------------------------
  Error! Attribute `bin` missing at (1:94) from string.
------------------------------------------------------------------------

  1| with import &lt;nixpkgs&gt; { }; (pkgs.runCommandCC or pkgs.runCommand) &quot;shell&quot; { buildInputs = [ (surge.bin) ]; } &quot;&quot;
</code></pre>
<p>Because this warning is on STDERR, it doesn’t end up in the file.</p>
<p>But not everything on STDERR is an error though. For example, you can run <code>nix build</code> and collect logs in a file while still seeing the progress.</p>
<pre><code>$ nix build &gt; build.txt
  Evaluated 1234 files in 1.2 seconds
 Downloaded python3.8-poetry 1.2.3 in 5.3 seconds
 Downloaded python3.8-requests 1.2.3 in 5.3 seconds
------------------------------------------------------------------------
      Press `v` to increase logs verbosity
         |&gt; `?` to see other options
------------------------------------------------------------------------
      Learn something new with every build...
         |&gt; See last logs of a build with `nix log --last` command.
------------------------------------------------------------------------
  Evaluated my-project 1.2.3 in 14.43 seconds
Downloading [12 / 200]
         |&gt; firefox 1.2.3 [#########&gt;       ] 10Mb/s | 2min left
   Building [2 / 20]
         |&gt; glibc 1.2.3 -&gt; buildPhase: &lt;last log line&gt;
------------------------------------------------------------------------
</code></pre>
<h2><a class="header" href="#errors-wip" id="errors-wip">Errors (WIP)</a></h2>
<p><strong>TODO</strong>: Once we have implementation for the <em>happy path</em> then we will think
how to present errors.</p>
<h2><a class="header" href="#not-only-for-humans" id="not-only-for-humans">Not only for humans</a></h2>
<p>Terse, machine-readable output formats can also be useful but shouldn’t get in
the way of making beautiful CLI output. When needed, commands should offer a
<code>--json</code> flag to allow users to easily parse and script the CLI.</p>
<p>When TTY is not detected on STDOUT we should remove all design elements (no
colors, no emojis and using ASCII instead of Unicode symbols). The same should
happen when TTY is not detected on STDERR. We should not display progress /
status section, but only print warnings and errors.</p>
<h2><a class="header" href="#dialog-with-the-user" id="dialog-with-the-user">Dialog with the user</a></h2>
<p>CLIs don't always make it clear when an action has taken place. For every
action a user performs, your CLI should provide an equal and appropriate
reaction, clearly highlighting the what just happened. For example:</p>
<pre><code class="language-shell">$ nix build
 Downloaded python3.8-poetry 1.2.3 in 5.3 seconds
 Downloaded python3.8-requests 1.2.3 in 5.3 seconds
...
   Success! You have successfully built my-project.
$
</code></pre>
<p>Above command clearly states that command successfully completed. And in case
of <code>nix build</code>, which is a command that might take some time to complete, it is
equally important to also show that a command started.</p>
<h2><a class="header" href="#text-alignment" id="text-alignment">Text alignment</a></h2>
<p>Text alignment is the number one design element that will present all of the
Nix commands as a family and not as separate tools glued together.</p>
<p>The format we should follow is:</p>
<pre><code class="language-shell">$ nix COMMAND
   VERB_1 NOUN and other words
  VERB__1 NOUN and other words
       |&gt; Some details
</code></pre>
<p>Few rules that we can extract from above example:</p>
<ul>
<li>Each line should start at least with one space.</li>
<li>First word should be a VERB and must be aligned to the right.</li>
<li>Second word should be a NOUN and must be aligned to the left.</li>
<li>If you can not find a good VERB / NOUN pair, don’t worry make it as
understandable to the user as possible.</li>
<li>More details of each line can be provided by <code>|&gt;</code> character which is serving
as the first word when aligning the text</li>
</ul>
<p>Don’t forget you should also test your terminal output with colors and emojis
off (<code>--no-colors --no-emojis</code>).</p>
<h2><a class="header" href="#dim--bright" id="dim--bright">Dim / Bright</a></h2>
<p>After comparing few terminals with different color schemes we would <strong>recommend
to avoid using dimmed text</strong>. The difference from the rest of the text is very
little in many terminal and color scheme combinations. Sometimes the difference
is not even notable, therefore relying on it wouldn’t make much sense.</p>
<p><strong>The bright text is much better supported</strong> across terminals and color
schemes. Most of the time the difference is perceived as if the bright text
would be bold.</p>
<h2><a class="header" href="#colors" id="colors">Colors</a></h2>
<p>Humans are already conditioned by society to attach certain meaning to certain
colors. While the meaning is not universal, a simple collection of colors is
used to represent basic emotions.</p>
<p>Colors that can be used in output</p>
<ul>
<li>Red = error, danger, stop</li>
<li>Green = success, good</li>
<li>Yellow/Orange = proceed with caution, warning, in progress</li>
<li>Blue/Magenta = stability, calm</li>
</ul>
<p>While colors are nice, when command line is used by machines (in automation
scripts) you want to remove the colors. There should be a global <code>--no-colors</code>
option that would remove the colors.</p>
<h2><a class="header" href="#special-unicode-characters" id="special-unicode-characters">Special (Unicode) characters</a></h2>
<p>Most of the terminal have good support for Unicode characters and you should
use them in your output by default. But always have a backup solution that is
implemented only with ASCII characters and will be used when <code>--ascii</code> option
is going to be passed in. Please make sure that you test your output also
without Unicode characters</p>
<p>More they showing all the different Unicode characters it is important to
<strong>establish common set of characters</strong> that we use for certain situations.</p>
<h2><a class="header" href="#emojis" id="emojis">Emojis</a></h2>
<p>Emojis help channel emotions even better than text, colors and special
characters.</p>
<p>We recommend <strong>keeping the set of emojis to a minimum</strong>. This will enable each
emoji to stand out more.</p>
<p>As not everybody is happy about emojis we should provide an <code>--no-emojis</code>
option to disable them. Please make sure that you test your output also without
emojis.</p>
<h2><a class="header" href="#tables" id="tables">Tables</a></h2>
<p>All commands that are listing certain data can be implemented in some sort of a
table. It’s important that each row of your output is a single ‘entry’ of data.
Never output table borders. It’s noisy and a huge pain for parsing using other
tools such as <code>grep</code>.</p>
<p>Be mindful of the screen width. Only show a few columns by default with the
table header, for more the table can be manipulated by the following options:</p>
<ul>
<li><code>--no-headers</code>: Show column headers by default but allow to hide them.</li>
<li><code>--columns</code>: Comma-separated list of column names to add.</li>
<li><code>--sort</code>: Allow sorting by column. Allow inverse and multi-column sort as well.</li>
</ul>
<h2><a class="header" href="#interactive-output" id="interactive-output">Interactive output</a></h2>
<p>Interactive output was selected to be able to strike the balance between
beginners and advance users. While the default output will target beginners it
can, with a few key strokes, be changed into and advance introspection tool.</p>
<h3><a class="header" href="#progress" id="progress">Progress</a></h3>
<p>For longer running commands we should provide and overview the progress.
This is shown best in <code>nix build</code> example:</p>
<pre><code class="language-shell">$ nix build
    Started building my-project 1.2.3
 Downloaded python3.8-poetry 1.2.3 in 5.3 seconds
 Downloaded python3.8-requests 1.2.3 in 5.3 seconds
------------------------------------------------------------------------
      Press `v` to increase logs verbosity
         |&gt; `?` to see other options
------------------------------------------------------------------------
      Learn something new with every build...
         |&gt; See last logs of a build with `nix log --last` command.
------------------------------------------------------------------------
  Evaluated my-project 1.2.3 in 14.43 seconds
Downloading [12 / 200]
         |&gt; firefox 1.2.3 [#########&gt;       ] 10Mb/s | 2min left
   Building [2 / 20]
         |&gt; glibc 1.2.3 -&gt; buildPhase: &lt;last log line&gt;
------------------------------------------------------------------------
</code></pre>
<h3><a class="header" href="#search" id="search">Search</a></h3>
<p>Use a <code>fzf</code> like fuzzy search when there are multiple options to choose from.</p>
<pre><code class="language-shell">$ nix init
Initializing Nix project at `/path/to/here`.
      Select a template for you new project:
          |&gt; py
             template#python-pip
             template#python-poetry
             [ Showing 2 templates from 1345 templates ]
</code></pre>
<h3><a class="header" href="#prompt" id="prompt">Prompt</a></h3>
<p>In some situations we need to prompt the user and inform the user about what is
going to happen.</p>
<pre><code class="language-shell">$ nix build --option substitutors https://cache.example.org
------------------------------------------------------------------------
  Warning! A security related question needs to be answered.
------------------------------------------------------------------------
  The following substitutors will be used to in `my-project`:
    - https://cache.example.org

  Do you allow `my-project` to use above mentioned substitutors?
    [y/N] |&gt; y
</code></pre>
<h2><a class="header" href="#verbosity" id="verbosity">Verbosity</a></h2>
<p>There are many ways that you can control verbosity.</p>
<p>Verbosity levels are:</p>
<ul>
<li><code>ERROR</code> (level 0)</li>
<li><code>WARN</code> (level 1)</li>
<li><code>NOTICE</code> (level 2)</li>
<li><code>INFO</code> (level 3)</li>
<li><code>TALKATIVE</code> (level 4)</li>
<li><code>CHATTY</code> (level 5)</li>
<li><code>DEBUG</code> (level 6)</li>
<li><code>VOMIT</code> (level 7)</li>
</ul>
<p>The default level that the command starts is <code>ERROR</code>. The simplest way to
increase the verbosity by stacking <code>-v</code> option (eg: <code>-vvv == level 3 == INFO</code>).
There are also two shortcuts, <code>--debug</code> to run in <code>DEBUG</code> verbosity level and
<code>--quiet</code> to run in <code>ERROR</code> verbosity level.</p>
<hr />
<h1><a class="header" href="#appendix-1-commands-naming-exceptions" id="appendix-1-commands-naming-exceptions">Appendix 1: Commands naming exceptions</a></h1>
<p><code>nix init</code> and <code>nix repl</code> are well established</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../contributing/hacking.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../release-notes/release-notes.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../contributing/hacking.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../release-notes/release-notes.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        <script type="text/javascript" src="../redirects.js"></script>
        

        

    </body>
</html>
